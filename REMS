
Try taking DEBUG and PROFILE out of the ino file and adding the line
to the Makefile (e.g. `-DDEBUG`, `-DPROFILE`)
The `#if`s have to be changed to `#ifdef`s, in that case

max green brightness

TEST WITH DIFFERENT OPTIMIZATION LEVELS!

play around with max_brightnesses

// first color goes up, second goes down
bool crossfade_colors(byte color_goes_up, byte color_goes_down) {
    bool more_up_p = (current_rgbw[color_goes_up] <=
                       (max_brightnesses[color_goes_up] + step_delta));
    bool more_down_p = (current_rgbw[color_goes_down] >= step_delta);
    if (more_up_p || more_down_p) {
        if (step_timer > step_delay) {
            if (more_up_p)
                current_rgbw[color_goes_up] = current_rgbw[color_goes_up] +
                                                step_delta;
            if (more_down_p)
                current_rgbw[color_goes_down] = current_rgbw[color_goes_down] -
                                                  step_delta;
            step_timer = 0;
        }
        return true;
    }
    return false;
}


